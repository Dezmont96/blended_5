{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/markup-tasks.js","../src/js/render-tasks.js","../src/js/tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export const refs = {\n  // Використовуємо ID форми для точного вибору\n  taskForm: document.getElementById('task-form'),\n  \n  // Використовуємо ID списку завдань\n  taskList: document.getElementById('task-list'), \n  \n  // Використовуємо ID кнопки перемикання теми\n  themeToggleButton: document.getElementById('themeToggle'), \n  \n  // Посилання на body залишається без змін\n  body: document.body,\n};","const TASKS_KEY = 'tasks';\nconst THEME_KEY = 'theme';\n\nexport function saveTasks(tasks) {\n  localStorage.setItem(TASKS_KEY, JSON.stringify(tasks));\n}\n\nexport function loadTasks() {\n  try {\n    const data = localStorage.getItem(TASKS_KEY);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.error('Error loading tasks from local storage:', error);\n    return [];\n  }\n}\n\nexport function saveTheme(theme) {\n  localStorage.setItem(THEME_KEY, theme);\n}\n\nexport function loadTheme() {\n  return localStorage.getItem(THEME_KEY) || 'dark'; // 'dark' як тема за замовчуванням\n}","export function createTasksMarkup(tasks) {\n  return tasks\n    .map(\n      ({ id, title, text }) => `\n      <li class=\"task-list-item\" data-id=\"${id}\">\n        <button class=\"task-list-item-btn\">Delete</button>\n        <h3>${title}</h3>\n        <p>${text}</p>\n      </li>\n    `\n    )\n    .join('');\n}\n","import { refs } from './refs.js';\nimport { createTasksMarkup } from './markup-tasks.js';\n\nexport function renderTasks(tasks) {\n  const markup = createTasksMarkup(tasks);\n  refs.taskList.innerHTML = markup;\n}","import { saveTasks, loadTasks } from './local-storage-api.js';\nimport { renderTasks } from './render-tasks.js';\n\nlet tasks = [];\n\nexport function initTasks() {\n  tasks = loadTasks();\n  // Цей виклик замінить статичні елементи в task-list.html на дані з localStorage\n  renderTasks(tasks);\n}\n\nexport function addTask(title, text) {\n  const newTask = {\n    id: Date.now(),\n    title,\n    text,\n  };\n  tasks.push(newTask);\n  saveTasks(tasks);\n  renderTasks(tasks);\n}\n\nexport function deleteTask(taskId) {\n  const id = Number(taskId);\n  tasks = tasks.filter(task => task.id !== id);\n  saveTasks(tasks);\n  renderTasks(tasks);\n}","import { refs } from './refs.js';\nimport { saveTheme, loadTheme } from './local-storage-api.js';\n\nfunction applyTheme(theme) {\n  refs.body.classList.remove('theme-dark', 'theme-light');\n  refs.body.classList.add(`theme-${theme}`);\n}\n\nexport function onThemeToggle() {\n  const isDark = refs.body.classList.contains('theme-dark');\n  const newTheme = isDark ? 'light' : 'dark';\n  \n  applyTheme(newTheme);\n  saveTheme(newTheme);\n}\n\nexport function initTheme() {\n  const savedTheme = loadTheme();\n  applyTheme(savedTheme);\n}","// Імпортуємо всі необхідні модулі\nimport { refs } from './js/refs.js';\nimport { initTasks, addTask, deleteTask } from './js/tasks.js';\nimport { onThemeToggle, initTheme } from './js/theme-switcher.js';\n\n/**\n * Обробник події відправки форми.\n * @param {Event} event - Подія відправки.\n */\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  // Доступ до полів через 'elements' та їх атрибути 'name'\n  const title = event.currentTarget.elements.taskName.value.trim();\n  const text = event.currentTarget.elements.taskDescription.value.trim();\n\n  // Перевірка на порожні поля\n  if (!title || !text) {\n    alert('Будь ласка, заповніть заголовок та опис завдання.');\n    return;\n  }\n\n  // Додаємо нове завдання\n  addTask(title, text);\n\n  // Очищуємо форму після додавання\n  event.currentTarget.reset();\n}\n\n/**\n * Обробник кліків на списку завдань для видалення.\n * @param {Event} event - Подія кліку.\n */\nfunction onTaskListClick(event) {\n  // Делегування подій: перевіряємо, чи клік був саме по кнопці \"Delete\"\n  if (event.target.classList.contains('task-list-item-btn')) {\n    // Знаходимо батьківський елемент 'li', щоб отримати його data-id\n    const taskItem = event.target.closest('.task-list-item');\n    if (taskItem) {\n      deleteTask(taskItem.dataset.id);\n    }\n  }\n}\n\n// --- ІНІЦІАЛІЗАЦІЯ ДОДАТКУ ---\n\n// Встановлюємо слухачів подій на відповідні елементи\nrefs.taskForm.addEventListener('submit', onFormSubmit);\nrefs.taskList.addEventListener('click', onTaskListClick);\nrefs.themeToggleButton.addEventListener('click', onThemeToggle);\n\n// Ініціалізуємо тему та завдання при завантаженні сторінки\ninitTheme();\ninitTasks();"],"names":["refs","TASKS_KEY","THEME_KEY","saveTasks","tasks","loadTasks","data","error","saveTheme","theme","loadTheme","createTasksMarkup","id","title","text","renderTasks","markup","initTasks","addTask","newTask","deleteTask","taskId","task","applyTheme","onThemeToggle","newTheme","initTheme","savedTheme","onFormSubmit","event","onTaskListClick","taskItem"],"mappings":"ssBAAO,MAAMA,EAAO,CAElB,SAAU,SAAS,eAAe,WAAW,EAG7C,SAAU,SAAS,eAAe,WAAW,EAG7C,kBAAmB,SAAS,eAAe,aAAa,EAGxD,KAAM,SAAS,IACjB,ECZMC,EAAY,QACZC,EAAY,QAEX,SAASC,EAAUC,EAAO,CAC/B,aAAa,QAAQH,EAAW,KAAK,UAAUG,CAAK,CAAC,CACvD,CAEO,SAASC,GAAY,CAC1B,GAAI,CACF,MAAMC,EAAO,aAAa,QAAQL,CAAS,EAC3C,OAAOK,EAAO,KAAK,MAAMA,CAAI,EAAI,CAAA,CAClC,OAAQC,EAAO,CACd,eAAQ,MAAM,0CAA2CA,CAAK,EACvD,EACR,CACH,CAEO,SAASC,EAAUC,EAAO,CAC/B,aAAa,QAAQP,EAAWO,CAAK,CACvC,CAEO,SAASC,GAAY,CAC1B,OAAO,aAAa,QAAQR,CAAS,GAAK,MAC5C,CCvBO,SAASS,EAAkBP,EAAO,CACvC,OAAOA,EACJ,IACC,CAAC,CAAE,GAAAQ,EAAI,MAAAC,EAAO,KAAAC,CAAM,IAAK;AAAA,4CACaF,CAAE;AAAA;AAAA,cAEhCC,CAAK;AAAA,aACNC,CAAI;AAAA;AAAA,KAGZ,EACA,KAAK,EAAE,CACZ,CCTO,SAASC,EAAYX,EAAO,CACjC,MAAMY,EAASL,EAAkBP,CAAK,EACtCJ,EAAK,SAAS,UAAYgB,CAC5B,CCHA,IAAIZ,EAAQ,CAAA,EAEL,SAASa,GAAY,CAC1Bb,EAAQC,EAAS,EAEjBU,EAAYX,CAAK,CACnB,CAEO,SAASc,EAAQL,EAAOC,EAAM,CACnC,MAAMK,EAAU,CACd,GAAI,KAAK,IAAK,EACd,MAAAN,EACA,KAAAC,CACJ,EACEV,EAAM,KAAKe,CAAO,EAClBhB,EAAUC,CAAK,EACfW,EAAYX,CAAK,CACnB,CAEO,SAASgB,EAAWC,EAAQ,CACjC,MAAMT,EAAK,OAAOS,CAAM,EACxBjB,EAAQA,EAAM,OAAOkB,GAAQA,EAAK,KAAOV,CAAE,EAC3CT,EAAUC,CAAK,EACfW,EAAYX,CAAK,CACnB,CCxBA,SAASmB,EAAWd,EAAO,CACzBT,EAAK,KAAK,UAAU,OAAO,aAAc,aAAa,EACtDA,EAAK,KAAK,UAAU,IAAI,SAASS,CAAK,EAAE,CAC1C,CAEO,SAASe,GAAgB,CAE9B,MAAMC,EADSzB,EAAK,KAAK,UAAU,SAAS,YAAY,EAC9B,QAAU,OAEpCuB,EAAWE,CAAQ,EACnBjB,EAAUiB,CAAQ,CACpB,CAEO,SAASC,GAAY,CAC1B,MAAMC,EAAajB,IACnBa,EAAWI,CAAU,CACvB,CCVA,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAGpB,MAAMhB,EAAQgB,EAAM,cAAc,SAAS,SAAS,MAAM,OACpDf,EAAOe,EAAM,cAAc,SAAS,gBAAgB,MAAM,OAGhE,GAAI,CAAChB,GAAS,CAACC,EAAM,CACnB,MAAM,mDAAmD,EACzD,MACD,CAGDI,EAAQL,EAAOC,CAAI,EAGnBe,EAAM,cAAc,OACtB,CAMA,SAASC,EAAgBD,EAAO,CAE9B,GAAIA,EAAM,OAAO,UAAU,SAAS,oBAAoB,EAAG,CAEzD,MAAME,EAAWF,EAAM,OAAO,QAAQ,iBAAiB,EACnDE,GACFX,EAAWW,EAAS,QAAQ,EAAE,CAEjC,CACH,CAKA/B,EAAK,SAAS,iBAAiB,SAAU4B,CAAY,EACrD5B,EAAK,SAAS,iBAAiB,QAAS8B,CAAe,EACvD9B,EAAK,kBAAkB,iBAAiB,QAASwB,CAAa,EAG9DE,IACAT,EAAW"}